package com.example.anarg.openmap2;

import org.junit.Test;
import org.osmdroid.util.GeoPoint;

import java.lang.ref.SoftReference;
import java.util.ArrayList;
import java.util.HashMap;

import static org.junit.Assert.*;

/**
 * Example local unit test, which will execute on the development machine (host).
 *
 * @see <a href="http://d.android.com/tools/testing">Testing documentation</a>
 */
public class ExampleUnitTest {
    @Test
    public void JsonTest(){
        BackEnd b=new BackEnd();
        String s= b.postRequest("http://tms.affineit.com:4445/SignalAhead/Json/SignalAhead","",true);
//        ArrayList<String > t=b.getSignalIds(b.getSignals(b.jsonGov(s)));
//        String s2=b.getRequest("http://192.168.0.106/jsonrender.php");
//        HashMap<String,GeoPoint> m=b.jsonPlot(s2);
        String o1="[[{\"direction\":\"Up\",\"locoNo\":\"\",\"signals\":[{\"distance\":0,\"index\":1,\"station\":\"BDC\",\"toAspectSignal\":{\"objectName\":\"AR45\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"4 (AR45 ONECR)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"5 (AR45 OFFECR)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"0AR42\"}],\"trainId\":32499593,\"trainName\":\"BHADRESHWAR-81250\",\"trainNo\":81250},{\"direction\":\"Down\",\"locoNo\":\"\",\"signals\":[{\"distance\":0,\"index\":1,\"station\":\"KOG\",\"toAspectSignal\":{\"objectName\":\"AR16\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"172 (S-AR16 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"175 (S-AR16 HGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"174 (S-AR16 DGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"173 (S-AR16 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"OAR16T\"},{\"distance\":0,\"index\":2,\"station\":\"UPA\",\"toAspectSignal\":{\"objectName\":\"AR14\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"236 (S-AR14 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"235 (S-AR14 DGKE  )\",\"currentStatus\":\"Up\"}]},\"toCallingOnSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"0AR14T1\"},{\"distance\":0,\"index\":3,\"station\":\"UPA\",\"toAspectSignal\":{\"objectName\":\"S-3\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"196 (S-3 RGKE )\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"193 (S-3 HGKE )\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"192 (S-3 DGKE  )\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"194 (S-3 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"C-3\",\"objectType\":\"Calling On\",\"relays\":[{\"channelDescription\":\"197 (SC-3 HGKE  )\",\"currentStatus\":\"Down\"}]},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"C3T\"}],\"trainId\":94955963,\"trainName\":\"Bandel-Howrah Local\",\"trainNo\":37250},{\"direction\":\"Down\",\"locoNo\":\"\",\"signals\":[{\"distance\":0,\"index\":1,\"station\":\"RIS\",\"toAspectSignal\":{\"objectName\":\"S3\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"205 (S-3 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"206 (S-3 HGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"207 (S-3 DGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"208 (S-3 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"AG3\",\"objectType\":\"Calling On\",\"relays\":[{\"channelDescription\":\"328 (S-2 AGKE)\",\"currentStatus\":\"Down\"}]},\"toShuntSignal\":{\"objectName\":\"SH32\",\"objectType\":\"Two Shunt\",\"relays\":[{\"channelDescription\":\"286 (SH-32 OFF)\",\"currentStatus\":\"Down\"}]},\"trackName\":\"03T\"},{\"distance\":0,\"index\":2,\"station\":\"RIS\",\"toAspectSignal\":{\"objectName\":\"A26\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"237 (A-26 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"238 (A-26 HGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"239 (A-26 DGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"240 (A-26 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"3T1\"},{\"distance\":0,\"index\":3,\"station\":\"KOG\",\"toAspectSignal\":{\"objectName\":\"S3\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"126 (S-3 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"129 (S-3 HGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"128 (S-3 DGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"127 (S-3 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"C3\",\"objectType\":\"Calling On\",\"relays\":[{\"channelDescription\":\"130 (S-C3 HGKE)\",\"currentStatus\":\"Down\"}]},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"OC3T\"}],\"trainId\":85875688,\"trainName\":\"MLTD HWH INTERCITY EXP\",\"trainNo\":13012},{\"directio\n";
        String o2="[[{\"direction\":\"Down\",\"locoNo\":\"\",\"signals\":[{\"distance\":0,\"index\":1,\"station\":\"KOG\",\"toAspectSignal\":{\"objectName\":\"S4\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"159 (S-4 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"162 (S-4 HGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"161 (S-4 DGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"160 (S-4 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"04T\"},{\"distance\":0,\"index\":2,\"station\":\"KOG\",\"toAspectSignal\":{\"objectName\":\"AR16\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"172 (S-AR16 RGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"175 (S-AR16 HGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"174 (S-AR16 DGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"173 (S-AR16 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"OAR16T\"},{\"distance\":0,\"index\":3,\"station\":\"UPA\",\"toAspectSignal\":{\"objectName\":\"AR14\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"236 (S-AR14 RGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"235 (S-AR14 DGKE  )\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"0AR14T1\"}],\"trainId\":94955963,\"trainName\":\"Bandel-Howrah Local\",\"trainNo\":37250},{\"direction\":\"Down\",\"locoNo\":\"\",\"signals\":[{\"distance\":0,\"index\":1,\"station\":\"RIS\",\"toAspectSignal\":{\"objectName\":\"S3\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"205 (S-3 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"206 (S-3 HGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"207 (S-3 DGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"208 (S-3 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"AG3\",\"objectType\":\"Calling On\",\"relays\":[{\"channelDescription\":\"328 (S-2 AGKE)\",\"currentStatus\":\"Down\"}]},\"toShuntSignal\":{\"objectName\":\"SH32\",\"objectType\":\"Two Shunt\",\"relays\":[{\"channelDescription\":\"286 (SH-32 OFF)\",\"currentStatus\":\"Down\"}]},\"trackName\":\"03T\"},{\"distance\":0,\"index\":2,\"station\":\"RIS\",\"toAspectSignal\":{\"objectName\":\"A26\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"237 (A-26 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"238 (A-26 HGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"239 (A-26 DGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"240 (A-26 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"3T1\"},{\"distance\":0,\"index\":3,\"station\":\"KOG\",\"toAspectSignal\":{\"objectName\":\"S3\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"126 (S-3 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"129 (S-3 HGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"128 (S-3 DGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"127 (S-3 HHGKE)\",\"currentStatus\":\"Down\"}]},\"toCallingOnSignal\":{\"objectName\":\"C3\",\"objectType\":\"Calling On\",\"relays\":[{\"channelDescription\":\"130 (S-C3 HGKE)\",\"currentStatus\":\"Down\"}]},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"OC3T\"}],\"trainId\":85875688,\"trainName\":\"MLTD HWH INTERCITY EXP\",\"trainNo\":13012},{\"direction\":\"Down\",\"locoNo\":\"\",\"signals\":[{\"distance\":0,\"index\":1,\"station\":\"RIS\",\"toAspectSignal\":{\"objectName\":\"AR26\",\"objectType\":\"Four Aspect\",\"relays\":[{\"channelDescription\":\"241 (AR26 RGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"242 (AR26 HGKE)\",\"currentStatus\":\"Up\"},{\"channelDescription\":\"243 (AR26 DGKE)\",\"currentStatus\":\"Down\"},{\"channelDescription\":\"244 (AR26 HHGKE)\",\"currentStatus\":\"Up\"}]},\"toCallingOnSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"toShuntSignal\":{\"objectName\":\"\",\"objectType\":\"\",\"relays\":null},\"trackName\":\"0AR26T\"},{\"distance\":0,\"index\":2,\"stat";
        System.out.print(s);
//        System.out.print(b.jsonPlot(s2));
//        for (String so: m.keySet()){
//            System.out.println(so+": "+m.get(so));
    }
}